// Generated by CoffeeScript 1.3.3
var TwitterView, twitterView;

TwitterView = (function() {

  function TwitterView() {}

  TwitterView.page;

  TwitterView.prototype.initialize = function(hashTag) {
    var contentDiv, liTpl, listView, tweet, tweets, _i, _len, _liTpl;
    this.page = $('#twitter-list-view');
    tweets = twitter.getTweets(hashTag);
    if (!tweets) {
      $.mobile.changePage(this.page);
    }
    contentDiv = $('div[data-role=content]:first', this.page);
    listView = $('ul[data-role=listview]:first', contentDiv);
    liTpl = $('li.tpl:first', listView);
    for (_i = 0, _len = tweets.length; _i < _len; _i++) {
      tweet = tweets[_i];
      _liTpl = liTpl.clone();
      $('.twitter-tweet:first', _liTpl).html(tweet.text);
      $('.twitter-name:first', _liTpl).html(tweet.user.screen_name);
      $('.twitter-screen-name:first', _liTpl).html(tweet.user.name);
      $('.twitter-profile-image', _liTpl).attr('src', tweet.user.profile_image_url_https);
      _liTpl.removeClass('tpl');
      listView.append(_liTpl);
    }
    liTpl.hide();
    return $.mobile.changePage(this.page);
  };

  return TwitterView;

})();

twitterView = new TwitterView();
